=======================================
General input data for FSC calculations
=======================================

Data sources:

----------------------
Directory data-kinetic
----------------------

kinetic_constants_brenda.tsv       from ~/projekte/pathway_modelling/data 
bsu_kinetic_constants_brenda.tsv   matlab script see below
eco_kinetic_constants_brenda.tsv   matlab script see below
sce_kinetic_constants_brenda.tsv   matlab script see below

quantity_info.tsv                  Information for parameter balancing, from ~/matlab/wolf_packages/mnt/mnt/mnt_data_integration/

-------------------------
Directory data-metabolite
-------------------------

concentration_ecoli_glucose.tsv  from ~/projekte/pathway_modelling/data (from mixed sources, including rabinovitz 2009)
                                       VORSICHT: manche metab (z.b. F16BP) erscheinen doppelt mit verschiedenen werten!!

E_coli_metabolite_concentrations_Tepper_S2_v2.1_annotated.csv  from ~/projekte/pathway_modelling/data (tepper paper?)
                                                               use glucose aerobic as standard ("!Value")

bsu_Metabolites_BigExperiment_GM1_KEGG_first_time_point.csv  from /home/wolfram/projekte/data/bacillus_subtilis/big_experiment
some KEGG IDS fixed manually: glyceraldehyde 3-phosphate // phosphoenolpyruvic acid  // 6-phospho-D-gluconic acid // glucose 6-phosphate _ mannose 6-phosphate 
Problem sind die vielen metabolite, die nicht genau aufgeloest werden koennen


----------------------
Directory data-protein
----------------------

E_coli_protein_mRNA.tsv          from ~/projekte/pathway_modelling/data

eco_abundance_table_protein_data_E_coli_Lu_1.csv  from ~/projekte/protein_abundance/data/protein_abundances_paper/eco_Lu
sce_abundance_table_sce_nagaraj.csv               from ~/projekte/protein_abundance/data/protein_abundances_other/sce_Nagaraj
   (column headers manually adjusted to sbtab, inserted column QuantityType "concentration of enzyme",  
   ppm abundance is used as "Value") 
Proteindata_Bsub.tsv   from ~/projekte/protein_abundance/protein_data/maass_b_subtilis/processed_data/
   (column headers manually adjusted to sbtab, inserted column QuantityType "concentration of enzyme")

Proteindata_Bsub.tsv   (Maass protein data set) from ~/projekte/protein_abundance/protein_data/maass_b_subtilis/processed_data


-------------------------
Directory name-conversion
-------------------------

kegg_compound_names.tsv          from ~/projekte/data/
                                 fixed: C00399 Ubiquinone // C00390  Ubiquinol
                                 renamed Nicotinamide adenine dinucleotide -> NADH
                                 Adjusted to SBtab

bsu_gene_name_conversion.csv     manually made (wolf)
eco_gene_name_conversion.csv     manually made (wolf)
sce_gene_name_conversion.csv     manually made (wolf)


----------------------------
Directory protein-properties
----------------------------

bsu_protein_lengths.tsv          from ~/projekte/protein_abundance/protein_lengths/processed_data/ adjusted to SBtab
eco_protein_lengths.tsv          from ~/projekte/protein_abundance/protein_lengths/processed_data/ adjusted to SBtab
sce_protein_lengths.tsv          from ~/projekte/protein_abundance/protein_lengths/processed_data/ adjusted to SBtab


==================================================================================
Scripts

% ---------------------------------------------------------------------
% export brenda data to organism-specific data files

M = sbtab_table_load('~/projekte/flux_specific_cost/resources/kinetic_constants_brenda.tsv');

% T000..-Nummern in KEGG fuer organismen

M_bsu = sbtab_table_subselect_items(M,'OrganismIDKegg',[],'10');
M_eco = sbtab_table_subselect_items(M,'OrganismIDKegg',[],'7');
M_sce = sbtab_table_subselect_items(M,'OrganismIDKegg',[],'5');

sbtab_table_save(M_bsu,'~/projekte/flux_specific_cost/resources/bsu_kinetic_constants_brenda.tsv');
sbtab_table_save(M_eco,'~/projekte/flux_specific_cost/resources/eco_kinetic_constants_brenda.tsv');
sbtab_table_save(M_sce,'~/projekte/flux_specific_cost/resources/sce_kinetic_constants_brenda.tsv');


% -------------------------------------------------------
% make yeast oxygen metabolite data (wiebe et al)

load('/home/wolfram/projekte/flux_specific_cost/models/elad/obd_pathways//data//network_all');
data = oxygen_wiebe_read_metabolite_data(network_all);
ll = label_names(data.MetaboliteName,network_all.metabolite_names);
data.MetaboliteKEGGID = repmat({''},length(data.MetaboliteName),1);
data.MetaboliteKEGGID(find(ll)) = network_all.metabolite_KEGGID(ll(find(ll)));
biotable_write(data, '~/projekte/flux_specific_cost/resources/sce_oxygen_data_wiebe.tsv');

dann SBtab-dateien manuell erzeugen:
~/projekte/flux_specific_cost/resources/sce_oxygen_data_wiebe.csv
~/projekte/flux_specific_cost/resources/sce_oxygen_data_wiebe_aerobic.csv
~/projekte/flux_specific_cost/resources/sce_oxygen_data_wiebe_anaerobic.csv


% ---------------------------------------------------------------------
Concentration from Albe et al

albe_et_al_annotated.txt from /home/wolfram/projekte/pathway_modelling/data
 von hand umsortiert -> albe_et_al_annotated_SBtab.csv

M = sbtab_table_load('~/projekte/flux_specific_cost/resources/albe_et_al_annotated_SBtab.csv');

dann micromolar -> molar, geometrisches mittel:

conc     = 0.001 * cell_string2num(strrep(M.column.column.Concentration,'<',''));
conc_min = 0.001 * cell_string2num(M.column.column.ConcentrationMin);
conc_max = 0.001 * cell_string2num(M.column.column.ConcentrationMax);

ind = find(isnan(conc));
conc(ind) = sqrt(conc_min(ind) .* conc_max(ind));

M = sbtab_table_add_column(M,'Value',conc);
M = sbtab_table_remove_column(M,'Concentration');
M = sbtab_table_remove_column(M,'ConcentrationMin');
M = sbtab_table_remove_column(M,'ConcentrationMax');
M = sbtab_table_add_column(M,'QuantityType',repmat({'concentration'},length(conc),1));
M_sce = sbtab_table_subselect_items(M,'Organism',[],'S.cerevisiae');
M_eco = sbtab_table_subselect_items(M,'Organism',[],'E.Coli');

sbtab_table_save(M_sce,'~/projekte/flux_specific_cost/resources/sce_concentrations_albe_et_al.csv');
sbtab_table_save(M_eco,'~/projekte/flux_specific_cost/resources/eco_concentrations_albe_et_al.csv');
